
#overwrites vanilla trigger
can_be_court_chaplain_trigger = {
	save_temporary_scope_as = court_chaplain_check
	can_be_councillor_basics_trigger = yes
	NOT = { has_council_position = councillor_spouse }
	$COURT_OWNER$.faith = { has_allowed_gender_for_clergy = scope:court_chaplain_check }
	faith = $COURT_OWNER$.faith
	trigger_if = {
		limit = {
			faith = { has_doctrine = doctrine_theocracy_temporal }
		}
		OR = {
			is_ruler = no
			has_government = theocracy_government
		}
#		OR = {
#			AND = {
#				is_ruler = yes
#				has_government = theocracy_government
#			}
#			AND = {
#				is_ruler = yes
#				has_government = monastic_government
#			}
#			AND = {
#				is_ruler = no
#				#is_capable_adult = yes
#				#scope:base.faith = { has_allowed_gender_for_clergy = root }
#				#is_imprisoned = no
#				#is_married = no
#				has_education_learning_trigger = yes
#				#pool_character_config = pool_court_chaplain
#			}
#		}
	}
	trigger_if = {
		limit = {
			exists = var:escaped_imprisonment_from
		}
		NOT = { var:escaped_imprisonment_from = $COURT_OWNER$ }
	}
}


# Requires local_var:<obligation_type> to be set for feudal obligations
# WHO = Who's contract levels are being checked
has_changed_contract_obligation_trigger = {
	$WHO$ = { save_temporary_scope_as = obligation_check }
	custom_description = {
		text = "modify_vassal_contract_select_different_obligation_level"
		OR = {
			local_var:monastic_government_obligations != scope:obligation_check.vassal_contract_obligation_level:monastic_government_obligations
			#local_var:avouerie_obligations != scope:obligation_check.vassal_contract_obligation_level:avouerie_obligations
			local_var:feudal_government_taxes != scope:obligation_check.vassal_contract_obligation_level:feudal_government_taxes
			local_var:feudal_government_levies != scope:obligation_check.vassal_contract_obligation_level:feudal_government_levies
			local_var:special_contract != scope:obligation_check.vassal_contract_obligation_level:special_contract
			local_var:religious_rights != scope:obligation_check.vassal_contract_obligation_level:religious_rights
			local_var:fortification_rights != scope:obligation_check.vassal_contract_obligation_level:fortification_rights
			local_var:coinage_rights != scope:obligation_check.vassal_contract_obligation_level:coinage_rights
			local_var:succession_rights != scope:obligation_check.vassal_contract_obligation_level:succession_rights
			local_var:war_declaration_rights != scope:obligation_check.vassal_contract_obligation_level:war_declaration_rights
			local_var:council_rights != scope:obligation_check.vassal_contract_obligation_level:council_rights
			local_var:title_revocation_rights != scope:obligation_check.vassal_contract_obligation_level:title_revocation_rights
		}
	}
}