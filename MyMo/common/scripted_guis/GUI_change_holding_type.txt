make_temple_button = {
    scope = province
	saved_scopes = {
		builder
    }
    is_shown = {
		ROOT = { has_holding_type = monastery_holding }
		NOT = { 
			has_province_modifier = fh_government_conversion
			#+other funding methods
		}

		OR = {
			province_owner = scope:builder
			AND = {
				province_owner = {
					highest_held_title_tier = 1
					liege = scope:builder
				}
			}
		}
    }
    is_valid = {
		custom_description = {
			text = "CONVERT_PROP_mymo"
			NOT = { exists = var:convert_prop }
			#NOT = { has_variable = convert_prop } #same
		}
		NOT = { faith = { has_doctrine = tenet_monasticism }}
		has_ongoing_construction = no
		NOT = { has_province_modifier = fh_government_conversion }
		NOT = { has_variable = recent_temple_conversion }
		has_holding_type = monastery_holding
        scope:builder = {
			gold >= 500
		}
    }
	ai_is_valid = {
		always = no
	}
    effect = {
		save_scope_as = holding_2_convert
		scope:holding_2_convert.province_owner = { 
			save_scope_as = holding_current_holder
		}
		set_variable = convert_prop
		scope:builder = { trigger_event = mymo.2 }

        set_variable = fh_convert_to_church
		custom_tooltip = fh_convert_to_church.tt
		

		
		#fh_start_convert_holding_type_effect = yes
        #scope:builder = {
        #	remove_long_term_gold = 500
        #}
    }
}
make_monastery_button = {
    scope = province
	saved_scopes = {
		builder
    }
    is_shown = {
		ROOT = { has_holding_type = church_holding }
		NOT = { 
			has_province_modifier = fh_government_conversion
			#+other funding methods
		}	
		OR = {
			province_owner = scope:builder
			AND = {
				province_owner = {
					highest_held_title_tier = 1
					liege = scope:builder
				}
			}
		}
    }
    is_valid = {
		custom_description = {
			text = "CONVERT_PROP_mymo"
			NOT = { has_variable = convert_prop }
		}
		faith = { has_doctrine = tenet_monasticism }
		has_ongoing_construction = no
		NOT = { has_province_modifier = fh_government_conversion }
		NOT = { has_variable = recent_temple_conversion }
		has_holding_type = church_holding
        scope:builder = {
			gold >= 500
		}
    }
	ai_is_valid = {
		always = no
	}
    effect = {
		save_scope_as = holding_2_convert
		scope:holding_2_convert.barony.lessee = { 
			save_scope_as = holding_current_holder
		}
		set_variable = convert_prop
		scope:builder = { trigger_event = mymo.2 }

        set_variable = fh_convert_to_monastery
		custom_tooltip = fh_convert_to_monastery.tt
		
		
		#fh_start_convert_holding_type_effect = yes
		# scope:builder = {
        #	remove_long_term_gold = 500
        #}
    }
}
